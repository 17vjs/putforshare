(this.webpackJsonpputforshare=this.webpackJsonpputforshare||[]).push([[0],{33:function(e,t,a){e.exports=a(63)},38:function(e,t,a){},39:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(28),o=a.n(c),r=(a(38),a(39),a(2)),s=a(11),i=a(1),m=a(29),u=a(30),p=new(function(){function e(){Object(m.a)(this,e),this.authenticated=!1}return Object(u.a)(e,[{key:"login",value:function(e){this.authenticated=!0,e()}},{key:"logout",value:function(e){this.authenticated=!1,e()}},{key:"isAuthenticated",value:function(){return this.authenticated}}]),e}()),f=a(10),d=(a(42),a(7)),h=a.n(d),g=a(31),b=a(8);var E=function(e){var t=Object(n.useState)({name:"",email:"",mobile:"",profilePic:"",multiple:!1,persons:[]}),a=Object(s.a)(t,2),c=a[0],o=a[1],i=function(e){var t=e.target,a=t.id,n=t.value;console.log(n),o((function(e){var t;return Object(r.a)({},e,(t={},Object(b.a)(t,a,n),Object(b.a)(t,"successMessage",""),t))}))};return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row py-5  justify-content-lg-around"},l.a.createElement("div",{className:"pb-5  border bg-white col-lg-4 "},l.a.createElement("form",{className:"p-3"},l.a.createElement("div",{className:"form-group form-check"},l.a.createElement("input",{checked:c.multiple,onChange:function(e){var t=e.target.checked;console.log(t),o((function(e){return Object(r.a)({},e,{multiple:t,successMessage:""})}))},type:"checkbox",className:"form-check-input",id:"multiple"}),l.a.createElement("label",{className:"form-check-label",htmlFor:"multiple"},"Add many person")),l.a.createElement("div",{className:"form-group text-left"},l.a.createElement("label",{htmlFor:"name"},"Name"),l.a.createElement("input",{type:"text",className:"form-control",value:c.name,id:"name",onChange:i})),l.a.createElement("div",{className:"form-group text-left"},l.a.createElement("label",{htmlFor:"mobile"},"Mobile"),l.a.createElement("input",{type:"number",className:"form-control",value:c.mobile,id:"mobile",onChange:i})),l.a.createElement("div",{className:"form-group text-left"},l.a.createElement("label",{htmlFor:"email"},"Email"),l.a.createElement("input",{type:"email",className:"form-control",value:c.email,id:"email",onChange:i})),l.a.createElement("div",{className:"form-group text-left"},l.a.createElement("label",{htmlFor:"profilePic"},"Profile Picture"),l.a.createElement("input",{className:"form-control",type:"file",onChange:function(e){var t=e.target.files[0];console.log(t.type),"image/jpeg"===t.type||"image/png"===t.type?o((function(e){return Object(r.a)({},e,{profilePic:t,successMessage:""})})):alert("Only jpg and png files allowed")}})),l.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block",onClick:function(e){if(e.preventDefault(),console.log(c.profilePic),c.name.length&&c.mobile.length&&c.email.length&&""!=c.profilePic){var t=new FormData;t.append(c.mobile+"_"+c.profilePic.name,c.profilePic,c.mobile+"_"+c.profilePic.name);var a={name:c.name,mobile:c.mobile,email:c.email,profilePic:c.mobile+"_"+c.profilePic.name,file:t};if(1==c.multiple)return void o((function(e){return Object(r.a)({},e,{persons:c.persons.concat(a)})}));console.log(a),h.a.post("https://putforshare.herokuapp.com/addPerson/",a).then((function(e){console.log(e),200===e.status&&"true"==e.data?(h.a.post("https://putforshare.herokuapp.com/set-image/",a.file).then((function(e){console.log(e)})).catch((function(e){alert(e)})),o((function(e){return Object(r.a)({},e,{successMessage:"Data sent successfully."})}))):o((function(e){return Object(r.a)({},e,{successMessage:"failed to add"})}))})).catch((function(e){alert(e)}))}else alert("All fields are mandatory")}},"Submit")),l.a.createElement("div",{className:"alert alert-success mt-2",style:{display:c.successMessage?"block":"none"},role:"alert"},c.successMessage)),1==c.multiple?l.a.createElement("div",{className:"pb-5  border bg-white col-lg-4 "},l.a.createElement("button",{type:"submit",className:"btn btn-success btn",onClick:function(e){e.preventDefault();var t=c.persons;console.log(t);var a=new FormData;for(var n in t){var l,s=t[n].file,i=Object(g.a)(s.entries());try{for(i.s();!(l=i.n()).done;){var m=l.value;console.log(m[0]+", "+m[1]),a.append(m[0],m[1],m[0])}}catch(u){i.e(u)}finally{i.f()}}console.log(a),t.length?h.a.post("https://putforshare.herokuapp.com/addManyPerson/",t).then((function(e){console.log(e),200===e.status&&"true"==e.data?(h.a.post("https://putforshare.herokuapp.com/set-image/",a).then((function(e){console.log(e)})).catch((function(e){alert(e)})),o((function(e){return Object(r.a)({},e,{successMessage:"Data sent successfully."})}))):o((function(e){return Object(r.a)({},e,{successMessage:"failed to add"})}))})).catch((function(e){alert(e)})):alert("Empty list")}},"Add all"),c.persons.map((function(e){return l.a.createElement("div",{key:c.persons.indexOf(e)},l.a.createElement("p",null,e.profilePic," "),l.a.createElement("p",null,e.name),l.a.createElement("p",null,e.mobile),l.a.createElement("p",null,e.email))}))):null),l.a.createElement("div",{className:"row justify-content-lg-between"}))};var v=Object(i.g)((function(e){var t=Object(n.useState)({persons:[]}),a=Object(s.a)(t,2),c=a[0],o=a[1],i=function(){h.a.get("https://putforshare.herokuapp.com/getAllPerson/").then((function(e){console.log(e.data),o((function(t){return Object(r.a)({},t,{persons:e.data.persons})}))})).catch((function(e){alert(e)}))};return Object(n.useEffect)((function(){i()}),[]),l.a.createElement("div",null,l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},l.a.createElement("a",{className:"navbar-brand",href:"#"},"Put For Share"),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},l.a.createElement("ul",{className:"navbar-nav mr-auto"}),l.a.createElement("button",{type:"submit",className:"btn btn-danger ",onClick:function(t){console.log(p.isAuthenticated()),t.preventDefault(),p.logout((function(){console.log(p.isAuthenticated()),e.history.push("/login")}))}},"Logout"))),l.a.createElement("div",{className:"container bg-light my-5"},l.a.createElement(f.d,{onSelect:function(e){0==e?i():console.log(e)}},l.a.createElement(f.b,null,l.a.createElement(f.a,null,"Show Person"),l.a.createElement(f.a,null,"Add Person")),l.a.createElement(f.c,null,l.a.createElement("div",{className:"row justify-content-lg-between"},c.persons.map((function(e){return l.a.createElement("div",{key:c.persons.indexOf(e),className:"col-lg-6  bg-light"},l.a.createElement("img",{src:"https://putforshare.herokuapp.com/get-image/".concat(e.profilePic),height:"100",width:"100"}),l.a.createElement("h1",null,e.name),l.a.createElement("p",null,e.mobile),l.a.createElement("p",null,e.email))})))),l.a.createElement(f.c,null,l.a.createElement(E,null)))))}));var y=Object(i.g)((function(e){var t=Object(n.useState)({username:"",password:""}),a=Object(s.a)(t,2),c=a[0],o=a[1],i=function(e){var t=e.target,a=t.id,n=t.value;o((function(e){var t;return Object(r.a)({},e,(t={},Object(b.a)(t,a,n),Object(b.a)(t,"successMessage",""),t))}))};return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row justify-content-lg-around my-5"},l.a.createElement("div",{className:"pb-5 border bg-white col-lg-4 "},l.a.createElement("form",{className:"p-3"},l.a.createElement("div",{className:"text-center"},l.a.createElement("h1",{className:"display-4 mb-4"},"Login")),l.a.createElement("div",{className:"form-group text-left"},l.a.createElement("label",{htmlFor:"username"},"Username"),l.a.createElement("input",{type:"text",className:"form-control",value:c.username,id:"username",onChange:i})),l.a.createElement("div",{className:"form-group text-left"},l.a.createElement("label",{htmlFor:"password"},"Password"),l.a.createElement("input",{type:"password",className:"form-control",value:c.password,id:"password",onChange:i})),l.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block",onClick:function(t){if(t.preventDefault(),c.username.length&&c.password.length){var a={uname:c.username,pass:c.password};h.a.post("https://putforshare.herokuapp.com/login/",a).then((function(t){console.log(t),200===t.status&&"true"==t.data?(o((function(e){return Object(r.a)({},e,{successMessage:"Login successful."})})),console.log(p.isAuthenticated()),p.login((function(){console.log(p.isAuthenticated()),e.history.push("/home")}))):o((function(e){return Object(r.a)({},e,{successMessage:"Login failed."})}))})).catch((function(e){alert(e)}))}}},"Submit")),l.a.createElement("div",{className:"alert alert-success mt-2",style:{display:c.successMessage?"block":"none"},role:"alert"},c.successMessage))))})),N=a(9),j=a(12),O=function(e){var t=e.component,a=Object(j.a)(e,["component"]);return l.a.createElement(i.b,Object.assign({},a,{render:function(e){return p.isAuthenticated()?(console.log(p.isAuthenticated()),l.a.createElement(t,e)):l.a.createElement(i.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},k=function(e){var t=e.component,a=Object(j.a)(e,["component"]);return l.a.createElement(i.b,Object.assign({},a,{render:function(e){return p.isAuthenticated()?l.a.createElement(i.a,{to:{pathname:"/home",state:{from:e.location}}}):(console.log(p.isAuthenticated()),l.a.createElement(t,e))}}))};var w=function(){return l.a.createElement(N.a,null,l.a.createElement("div",{className:"App"},l.a.createElement(i.d,null,l.a.createElement(k,{exact:!0,path:"/login",component:y}),l.a.createElement(O,{exact:!0,path:"/home",component:v}),l.a.createElement(i.b,{path:"*",component:function(){return l.a.createElement("h1",{className:"display-4",style:{color:"blue",backgroundColor:"InfoBackground"}},"404 Not Found")}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.8f228652.chunk.js.map